###############################################################################################
# Rewrote By: @b6m                                                                            #
# Full Credits To Swishy, HeartKill, PW                                                       #
# 4/10/22                                                                                     #
# ->____________________________<-                                                            #
# OMG HOW DO I GET GROUP ID???                                                                #
# Send A Message In THe Group                                                                 #
# Copy The Message Link                                                                       #
# https://discord.com/channels/@me/FirstSectionOfNumbers/SecondSectionOfNumbers               #
# The First Section Of Numbers Is The Group ID                                                #
###############################################################################################

from colorama import Fore
import requests
from datetime import datetime
import random
import threading
import json


with open('config.json') as f:config = json.load(f)


ID = input(
    f"{Fore.MAGENTA}[{Fore.RESET}+{Fore.MAGENTA}] {Fore.RESET}ID: {Fore.RESET}"
    )

Threads = int(
    input(
        f"{Fore.MAGENTA}[{Fore.RESET}+{Fore.MAGENTA}] {Fore.RESET}Threads: {Fore.RESET}"
        )
        )

regions = [
    'hongkong',
    'europe',
    'brazil',
    'us-central',
    'us-east',
    'sydney',
    'russia',
    'india',
    'japan',
    'us-west',
    'us-south',
    'singapore'
]

def exec():
    headers         =      {'Authorization': config['Token']}
    
    group           =      f"https://discord.com/api/v9/channels/{int(ID)}/call"
    
    now             =      datetime.now()
    
    currently       =      now.strftime("%H:%M:%S")
    
    RandomRegion    =      random.choice(regions)
    
    payload         =      {'region': RandomRegion}
    
    requests.patch(group, json = payload, headers = headers)
    print(f"{Fore.MAGENTA}[{Fore.RESET}Success{Fore.MAGENTA}{Fore.MAGENTA} @ {Fore.RESET}{currently}{Fore.MAGENTA}] {Fore.RESET}Region:{Fore.MAGENTA} {RandomRegion}")

for i in range(Threads):
    threading.Thread(target=exec).start()
