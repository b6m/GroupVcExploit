###############################################################################################
# Rewrote By: @b6m                                                                            #
# Full Credits To Swishy, HeartKill, PW                                                       #
# 4/10/22                                                                                     #
# ->____________________________<-                                                            #
# OMG HOW DO I GET GROUP ID???                                                                #
# Send A Message In THe Group                                                                 #
# Copy The Message Link                                                                       #
# https://discord.com/channels/@me/FirstSectionOfNumbers/SecondSectionOfNumbers               #
# The First Section Of Numbers Is The Group ID                                                #
###############################################################################################

from colorama import Fore
import requests
from datetime import datetime
import random
import threading
import json
from pystyle import Colors, Colorate

with open('config.json') as f:config = json.load(f)


ID = int(
    input(
    f"      {Fore.LIGHTMAGENTA_EX}[{Fore.RESET}+{Fore.LIGHTMAGENTA_EX}] {Fore.RESET}ID: {Fore.RESET}"
    )
    )

Threads = int(
    input(
        f"      {Fore.LIGHTMAGENTA_EX}[{Fore.RESET}+{Fore.LIGHTMAGENTA_EX}] {Fore.RESET}Threads: {Fore.RESET}"
        )
        )


regions = [
    'brazil',
    'hongkong',
    'india',
    'japan',
    'rotterdam',
    'russia',
    'singapore',
    'southafrica',
    'sydney',
    'us-central',
    'us-east',
    'us-south',
    'us-west'
    ]


def exec():
    headers         =      {'Authorization': config['Token']}
    
    group           =      f"https://discord.com/api/v9/channels/{int(ID)}/call"
    
    now             =      datetime.now()
    
    currently       =      now.strftime("%H:%M:%S")
    
    RandomRegion    =      random.choice(regions)
    
    payload         =      {'region': RandomRegion}
    
    requests.patch(group, json = payload, headers = headers)
    print(f"      {Fore.LIGHTMAGENTA_EX}[{Fore.RESET}Success{Fore.LIGHTMAGENTA_EX}{Fore.LIGHTMAGENTA_EX} @ {Fore.RESET}{currently}{Fore.LIGHTMAGENTA_EX}]",Colorate.Horizontal(Colors.purple_to_blue, f"Region: {RandomRegion}", 1))

for i in range(Threads):
    threading.Thread(target=exec).start()
